<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Library</title>
</head>
<body>
  <header id="head" class="container">
    <h1 class="has-text-primary">library</h1>
  </header>
  <main id="main" class="container">
    <form id="book-input">
      title: <input type='text' name="title" onKeyUp="formChanged()" onChange="formChanged()" ><br>
      author: <input type='text' name="author" onKeyUp="formChanged()" onChange="formChanged()" ><br>
      <!-- page count: <input type='text' name="pageCount" onKeyUp="formChanged()" onChange="formChanged()" ><br> -->
      <input type="button" onclick="addBook()" value="submit"> 
    </form>
    <script>
      let myLibrary = [];

      function Book(title, author) {
        this.title = title;
        this.author = author; 
      }

      function formChanged() {
        title = document.getElementsByName('title')[0].value;
        author = document.getElementsByName('author')[0].value;
        // pageCount = document.getElementsByName('pageCount')[0].value;
        console.log(title);
        console.log(author);
      }
      function addBook() {
        book = new Book(title, author)
        myLibrary.push(book);
        drawNew();
      }

      

      function drawNew() {
        const shelves = document.getElementById('shelves');
        let spine = document.createElement('div');
        spine.classList.add('spine');
        let top = document.createElement('div');
        top.classList.add('top');
        let bottom = document.createElement('div');
        bottom.classList.add('bottom');
        spine.appendChild(top);
        spine.appendChild(bottom);
        top.innerHTML = myLibrary[myLibrary.length -1].title;
        bottom.innerHTML = myLibrary[myLibrary.length -1].author;
        shelves.appendChild(spine);
      }

      function drawLib() {
        i = 0;
        const shelves = document.getElementById('shelves');
        while (i < myLibrary.length) {
          book = document.createElement('div');
          book.innerHTML = myLibrary[i];
          shelves.appendChild(book);
          i++;
        }
      }

    </script>

    <div id="shelves"></div>
  </main>
</body>
</html>